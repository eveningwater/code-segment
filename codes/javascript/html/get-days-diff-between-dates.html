<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½æ—¥æœŸå·®è®¡ç®—å™¨ - å¤šåœºæ™¯åº”ç”¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            padding: 40px;
        }

        .scenarios {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .scenario-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        .scenario-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .scenario-title {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .scenario-icon {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .date-inputs {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .date-group {
            flex: 1;
            min-width: 200px;
        }

        .date-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
        }

        .date-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .date-group input:focus {
            outline: none;
            border-color: #4facfe;
        }

        .calculate-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            width: 100%;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: 500;
            display: none;
        }

        .result.success {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            color: #2c5530;
            border: 1px solid #a8edea;
        }

        .result.warning {
            background: linear-gradient(135deg, #ffecd2, #fcb69f);
            color: #8b4513;
            border: 1px solid #ffecd2;
        }

        .result.danger {
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: #8b0000;
            border: 1px solid #ff9a9e;
        }

        .result.info {
            background: linear-gradient(135deg, #a8caba, #5d4e75);
            color: white;
            border: 1px solid #a8caba;
        }

        .dashboard {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }

        .dashboard h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .quick-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .quick-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .quick-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
            border-top: 1px solid #e0e0e0;
        }

        @media (max-width: 768px) {
            .scenarios {
                grid-template-columns: 1fr;
            }
            
            .date-inputs {
                flex-direction: column;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“… æ™ºèƒ½æ—¥æœŸå·®è®¡ç®—å™¨</h1>
            <p>å¤šåœºæ™¯ä¸šåŠ¡åº”ç”¨ - ç²¾ç¡®è®¡ç®—æ—¶é—´å·®å¼‚</p>
        </div>

        <div class="main-content">
            <div class="scenarios">
                <!-- é¡¹ç›®è¿›åº¦ç®¡ç† -->
                <div class="scenario-card">
                    <div class="scenario-title">
                        <div class="scenario-icon">ğŸ“Š</div>
                        é¡¹ç›®è¿›åº¦ç®¡ç†
                    </div>
                    <div class="date-inputs">
                        <div class="date-group">
                            <label>é¡¹ç›®å¼€å§‹æ—¥æœŸ</label>
                            <input type="date" id="project-start" value="2024-01-15">
                        </div>
                        <div class="date-group">
                            <label>é¡¹ç›®æˆªæ­¢æ—¥æœŸ</label>
                            <input type="date" id="project-end" value="2024-06-30">
                        </div>
                    </div>
                    <button class="calculate-btn" onclick="calculateProjectProgress()">è®¡ç®—é¡¹ç›®è¿›åº¦</button>
                    <div id="project-result" class="result"></div>
                </div>

                <!-- å‘˜å·¥å‡æœŸç®¡ç† -->
                <div class="scenario-card">
                    <div class="scenario-title">
                        <div class="scenario-icon">ğŸ–ï¸</div>
                        å‘˜å·¥å‡æœŸç®¡ç†
                    </div>
                    <div class="date-inputs">
                        <div class="date-group">
                            <label>å‡æœŸå¼€å§‹æ—¥æœŸ</label>
                            <input type="date" id="vacation-start" value="2024-07-01">
                        </div>
                        <div class="date-group">
                            <label>å‡æœŸç»“æŸæ—¥æœŸ</label>
                            <input type="date" id="vacation-end" value="2024-07-15">
                        </div>
                    </div>
                    <button class="calculate-btn" onclick="calculateVacationDays()">è®¡ç®—å‡æœŸå¤©æ•°</button>
                    <div id="vacation-result" class="result"></div>
                </div>

                <!-- åˆåŒåˆ°æœŸæé†’ -->
                <div class="scenario-card">
                    <div class="scenario-title">
                        <div class="scenario-icon">ğŸ“‹</div>
                        åˆåŒåˆ°æœŸæé†’
                    </div>
                    <div class="date-inputs">
                        <div class="date-group">
                            <label>åˆåŒç­¾ç½²æ—¥æœŸ</label>
                            <input type="date" id="contract-start" value="2023-01-01">
                        </div>
                        <div class="date-group">
                            <label>åˆåŒåˆ°æœŸæ—¥æœŸ</label>
                            <input type="date" id="contract-end" value="2024-12-31">
                        </div>
                    </div>
                    <button class="calculate-btn" onclick="calculateContractStatus()">æ£€æŸ¥åˆåŒçŠ¶æ€</button>
                    <div id="contract-result" class="result"></div>
                </div>

                <!-- æ´»åŠ¨å€’è®¡æ—¶ -->
                <div class="scenario-card">
                    <div class="scenario-title">
                        <div class="scenario-icon">ğŸ‰</div>
                        æ´»åŠ¨å€’è®¡æ—¶
                    </div>
                    <div class="date-inputs">
                        <div class="date-group">
                            <label>å½“å‰æ—¥æœŸ</label>
                            <input type="date" id="current-date" value="">
                        </div>
                        <div class="date-group">
                            <label>æ´»åŠ¨æ—¥æœŸ</label>
                            <input type="date" id="event-date" value="2024-12-25">
                        </div>
                    </div>
                    <button class="calculate-btn" onclick="calculateEventCountdown()">è®¡ç®—å€’è®¡æ—¶</button>
                    <div id="event-result" class="result"></div>
                </div>

                <!-- è´·æ¬¾è¿˜æ¬¾è®¡åˆ’ -->
                <div class="scenario-card">
                    <div class="scenario-title">
                        <div class="scenario-icon">ğŸ’°</div>
                        è´·æ¬¾è¿˜æ¬¾è®¡åˆ’
                    </div>
                    <div class="date-inputs">
                        <div class="date-group">
                            <label>è´·æ¬¾å‘æ”¾æ—¥æœŸ</label>
                            <input type="date" id="loan-start" value="2024-03-01">
                        </div>
                        <div class="date-group">
                            <label>è¿˜æ¬¾åˆ°æœŸæ—¥æœŸ</label>
                            <input type="date" id="loan-end" value="2027-03-01">
                        </div>
                    </div>
                    <button class="calculate-btn" onclick="calculateLoanPeriod()">è®¡ç®—è´·æ¬¾æœŸé™</button>
                    <div id="loan-result" class="result"></div>
                </div>

                <!-- äº§å“ä¿è´¨æœŸ -->
                <div class="scenario-card">
                    <div class="scenario-title">
                        <div class="scenario-icon">ğŸ“¦</div>
                        äº§å“ä¿è´¨æœŸ
                    </div>
                    <div class="date-inputs">
                        <div class="date-group">
                            <label>ç”Ÿäº§æ—¥æœŸ</label>
                            <input type="date" id="production-date" value="2024-01-01">
                        </div>
                        <div class="date-group">
                            <label>å½“å‰æ—¥æœŸ</label>
                            <input type="date" id="current-date-2" value="">
                        </div>
                    </div>
                    <button class="calculate-btn" onclick="calculateShelfLife()">æ£€æŸ¥ä¿è´¨æœŸ</button>
                    <div id="shelf-result" class="result"></div>
                </div>
            </div>

            <!-- æ•°æ®ç»Ÿè®¡é¢æ¿ -->
            <div class="dashboard">
                <h2>ğŸ“ˆ æ•°æ®ç»Ÿè®¡é¢æ¿</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="total-calculations">0</div>
                        <div class="stat-label">æ€»è®¡ç®—æ¬¡æ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="avg-days">0</div>
                        <div class="stat-label">å¹³å‡å¤©æ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="max-days">0</div>
                        <div class="stat-label">æœ€é•¿å‘¨æœŸ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="min-days">0</div>
                        <div class="stat-label">æœ€çŸ­å‘¨æœŸ</div>
                    </div>
                </div>
                <div class="quick-actions">
                    <button class="quick-btn" onclick="setTodayDates()">è®¾ç½®ä»Šæ—¥æ—¥æœŸ</button>
                    <button class="quick-btn" onclick="clearAllResults()">æ¸…ç©ºæ‰€æœ‰ç»“æœ</button>
                    <button class="quick-btn" onclick="exportData()">å¯¼å‡ºæ•°æ®</button>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Â© 2024 æ™ºèƒ½æ—¥æœŸå·®è®¡ç®—å™¨ | ä¸“ä¸šçš„æ—¶é—´ç®¡ç†å·¥å…·</p>
        </div>
    </div>

    <script>
        // æ ¸å¿ƒæ—¥æœŸå·®è®¡ç®—å‡½æ•°
        const getDaysDiffBetweenDates = (dateInitial, dateFinal) =>
            Math.round((dateFinal - dateInitial) / (1000 * 3600 * 24));

        // å…¨å±€å˜é‡
        let calculations = [];
        let totalCalculations = 0;

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('current-date').value = today;
            document.getElementById('current-date-2').value = today;
        });

        // é¡¹ç›®è¿›åº¦ç®¡ç†
        function calculateProjectProgress() {
            const startDate = new Date(document.getElementById('project-start').value);
            const endDate = new Date(document.getElementById('project-end').value);
            const currentDate = new Date();
            
            const totalDays = getDaysDiffBetweenDates(startDate, endDate);
            const elapsedDays = getDaysDiffBetweenDates(startDate, currentDate);
            const remainingDays = getDaysDiffBetweenDates(currentDate, endDate);
            const progress = Math.round((elapsedDays / totalDays) * 100);
            
            let resultClass = 'success';
            let message = '';
            
            if (remainingDays < 0) {
                resultClass = 'danger';
                message = `âš ï¸ é¡¹ç›®å·²è¶…æœŸ ${Math.abs(remainingDays)} å¤©ï¼`;
            } else if (remainingDays <= 30) {
                resultClass = 'warning';
                message = `â° é¡¹ç›®å³å°†åˆ°æœŸï¼Œè¿˜å‰© ${remainingDays} å¤©`;
            } else {
                message = `ğŸ“Š é¡¹ç›®è¿›åº¦ï¼š${progress}% | å·²è¿›è¡Œ ${elapsedDays} å¤©ï¼Œå‰©ä½™ ${remainingDays} å¤©`;
            }
            
            showResult('project-result', message, resultClass);
            updateStats(totalDays);
        }

        // å‘˜å·¥å‡æœŸç®¡ç†
        function calculateVacationDays() {
            const startDate = new Date(document.getElementById('vacation-start').value);
            const endDate = new Date(document.getElementById('vacation-end').value);
            
            const vacationDays = getDaysDiffBetweenDates(startDate, endDate);
            
            let resultClass = 'success';
            let message = '';
            
            if (vacationDays <= 0) {
                resultClass = 'danger';
                message = 'âŒ ç»“æŸæ—¥æœŸä¸èƒ½æ—©äºå¼€å§‹æ—¥æœŸï¼';
            } else if (vacationDays > 30) {
                resultClass = 'warning';
                message = `âš ï¸ å‡æœŸè¾ƒé•¿ï¼š${vacationDays} å¤©ï¼Œè¯·ç¡®è®¤æ˜¯å¦åˆç†`;
            } else {
                message = `ğŸ–ï¸ å‡æœŸå¤©æ•°ï¼š${vacationDays} å¤© | å·¥ä½œæ—¥ï¼š${Math.max(0, vacationDays - Math.floor(vacationDays / 7) * 2)} å¤©`;
            }
            
            showResult('vacation-result', message, resultClass);
            updateStats(vacationDays);
        }

        // åˆåŒåˆ°æœŸæé†’
        function calculateContractStatus() {
            const startDate = new Date(document.getElementById('contract-start').value);
            const endDate = new Date(document.getElementById('contract-end').value);
            const currentDate = new Date();
            
            const totalDays = getDaysDiffBetweenDates(startDate, endDate);
            const remainingDays = getDaysDiffBetweenDates(currentDate, endDate);
            
            let resultClass = 'success';
            let message = '';
            
            if (remainingDays < 0) {
                resultClass = 'danger';
                message = `ğŸš¨ åˆåŒå·²è¿‡æœŸ ${Math.abs(remainingDays)} å¤©ï¼è¯·ç«‹å³å¤„ç†`;
            } else if (remainingDays <= 90) {
                resultClass = 'warning';
                message = `âš ï¸ åˆåŒå³å°†åˆ°æœŸï¼Œè¿˜å‰© ${remainingDays} å¤© | æ€»æœŸé™ï¼š${totalDays} å¤©`;
            } else {
                message = `âœ… åˆåŒæ­£å¸¸ï¼Œå‰©ä½™ ${remainingDays} å¤© | æ€»æœŸé™ï¼š${totalDays} å¤©`;
            }
            
            showResult('contract-result', message, resultClass);
            updateStats(totalDays);
        }

        // æ´»åŠ¨å€’è®¡æ—¶
        function calculateEventCountdown() {
            const currentDate = new Date(document.getElementById('current-date').value);
            const eventDate = new Date(document.getElementById('event-date').value);
            
            const countdownDays = getDaysDiffBetweenDates(currentDate, eventDate);
            
            let resultClass = 'info';
            let message = '';
            
            if (countdownDays < 0) {
                resultClass = 'danger';
                message = `ğŸ‰ æ´»åŠ¨å·²äº ${Math.abs(countdownDays)} å¤©å‰ç»“æŸ`;
            } else if (countdownDays === 0) {
                resultClass = 'warning';
                message = 'ğŸŠ æ´»åŠ¨å°±åœ¨ä»Šå¤©ï¼';
            } else if (countdownDays <= 7) {
                resultClass = 'warning';
                message = `â° æ´»åŠ¨å³å°†å¼€å§‹ï¼Œå€’è®¡æ—¶ ${countdownDays} å¤©ï¼`;
            } else {
                message = `ğŸ“… è·ç¦»æ´»åŠ¨è¿˜æœ‰ ${countdownDays} å¤©`;
            }
            
            showResult('event-result', message, resultClass);
            updateStats(Math.abs(countdownDays));
        }

        // è´·æ¬¾è¿˜æ¬¾è®¡åˆ’
        function calculateLoanPeriod() {
            const startDate = new Date(document.getElementById('loan-start').value);
            const endDate = new Date(document.getElementById('loan-end').value);
            
            const loanDays = getDaysDiffBetweenDates(startDate, endDate);
            const loanYears = Math.round(loanDays / 365 * 10) / 10;
            const loanMonths = Math.round(loanDays / 30 * 10) / 10;
            
            let resultClass = 'info';
            let message = '';
            
            if (loanDays <= 0) {
                resultClass = 'danger';
                message = 'âŒ è¿˜æ¬¾æ—¥æœŸä¸èƒ½æ—©äºæ”¾æ¬¾æ—¥æœŸï¼';
            } else if (loanYears > 30) {
                resultClass = 'warning';
                message = `âš ï¸ è´·æ¬¾æœŸé™è¾ƒé•¿ï¼š${loanYears} å¹´ (${loanDays} å¤©)`;
            } else {
                message = `ğŸ’° è´·æ¬¾æœŸé™ï¼š${loanYears} å¹´ (${loanMonths} ä¸ªæœˆï¼Œ${loanDays} å¤©)`;
            }
            
            showResult('loan-result', message, resultClass);
            updateStats(loanDays);
        }

        // äº§å“ä¿è´¨æœŸ
        function calculateShelfLife() {
            const productionDate = new Date(document.getElementById('production-date').value);
            const currentDate = new Date(document.getElementById('current-date-2').value);
            
            const shelfLifeDays = getDaysDiffBetweenDates(productionDate, currentDate);
            
            let resultClass = 'success';
            let message = '';
            
            if (shelfLifeDays < 0) {
                resultClass = 'danger';
                message = 'âŒ ç”Ÿäº§æ—¥æœŸä¸èƒ½æ™šäºå½“å‰æ—¥æœŸï¼';
            } else if (shelfLifeDays > 365) {
                resultClass = 'danger';
                message = `ğŸš¨ äº§å“å·²è¶…è¿‡1å¹´ä¿è´¨æœŸï¼å·²å­˜æ”¾ ${shelfLifeDays} å¤©`;
            } else if (shelfLifeDays > 300) {
                resultClass = 'warning';
                message = `âš ï¸ äº§å“å³å°†è¿‡æœŸï¼Œå·²å­˜æ”¾ ${shelfLifeDays} å¤©`;
            } else {
                message = `âœ… äº§å“åœ¨ä¿è´¨æœŸå†…ï¼Œå·²å­˜æ”¾ ${shelfLifeDays} å¤©`;
            }
            
            showResult('shelf-result', message, resultClass);
            updateStats(shelfLifeDays);
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult(elementId, message, className) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = `result ${className}`;
            element.style.display = 'block';
        }

        // æ›´æ–°ç»Ÿè®¡æ•°æ®
        function updateStats(days) {
            calculations.push(days);
            totalCalculations++;
            
            const avgDays = Math.round(calculations.reduce((a, b) => a + b, 0) / calculations.length);
            const maxDays = Math.max(...calculations);
            const minDays = Math.min(...calculations);
            
            document.getElementById('total-calculations').textContent = totalCalculations;
            document.getElementById('avg-days').textContent = avgDays;
            document.getElementById('max-days').textContent = maxDays;
            document.getElementById('min-days').textContent = minDays;
        }

        // è®¾ç½®ä»Šæ—¥æ—¥æœŸ
        function setTodayDates() {
            const today = new Date().toISOString().split('T')[0];
            const dateInputs = document.querySelectorAll('input[type="date"]');
            dateInputs.forEach(input => {
                if (input.id.includes('current') || input.id.includes('today')) {
                    input.value = today;
                }
            });
        }

        // æ¸…ç©ºæ‰€æœ‰ç»“æœ
        function clearAllResults() {
            const results = document.querySelectorAll('.result');
            results.forEach(result => {
                result.style.display = 'none';
            });
            
            calculations = [];
            totalCalculations = 0;
            document.getElementById('total-calculations').textContent = '0';
            document.getElementById('avg-days').textContent = '0';
            document.getElementById('max-days').textContent = '0';
            document.getElementById('min-days').textContent = '0';
        }

        // å¯¼å‡ºæ•°æ®
        function exportData() {
            const data = {
                totalCalculations: totalCalculations,
                averageDays: calculations.length > 0 ? Math.round(calculations.reduce((a, b) => a + b, 0) / calculations.length) : 0,
                maxDays: calculations.length > 0 ? Math.max(...calculations) : 0,
                minDays: calculations.length > 0 ? Math.min(...calculations) : 0,
                calculations: calculations,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `date-calculations-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>

</html>