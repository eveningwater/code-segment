<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>prod - æ•°ç»„ä¹˜ç§¯è®¡ç®—å·¥å…·</title>
    <!-- å¼•å…¥æ’ä»¶æ ·å¼ -->
    <link rel="stylesheet" href="../../demo/plugins/modal/style.css">
    <link rel="stylesheet" href="../../demo/plugins/notification/style.css">
    <link rel="stylesheet" href="../../demo/plugins/input-number/style.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --border-color: #e5e7eb;
            --card-shadow: 0 10px 30px rgba(15, 23, 42, 0.15);
            --accent-color: #ec4899;
            --success-color: #10b981;
            --warning-color: #f59e0b;
        }

        [data-theme="dark"] {
            --bg-primary: #1f2937;
            --bg-secondary: #111827;
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --border-color: #374151;
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            --accent-color: #f472b6;
            --success-color: #34d399;
            --warning-color: #fbbf24;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
            padding: 20px;
            transition: background 0.3s ease, color 0.3s ease;
        }

        [data-theme="dark"] body {
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 800;
            text-shadow: 0 3px 8px rgba(15, 23, 42, 0.35);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }

        .card {
            background: var(--bg-primary);
            border-radius: 15px;
            padding: 24px;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
        }

        .card h2 {
            font-size: 1.3rem;
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .info-box {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            border-left: 4px solid var(--accent-color);
        }

        .info-label {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .info-value {
            font-size: 1.8rem;
            color: var(--accent-color);
            font-weight: 700;
            font-family: 'Courier New', monospace;
            word-break: break-all;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .btn {
            flex: 1;
            min-width: 100px;
            padding: 10px 16px;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ec4899, #be185d);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981, #047857);
            color: white;
        }

        .btn-secondary {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .input-group {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .number-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 16px;
        }

        .number-badge {
            background: var(--accent-color);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .number-badge .remove-btn {
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.2s ease;
        }

        .number-badge .remove-btn:hover {
            opacity: 1;
        }

        .feature-list {
            list-style: none;
            margin-top: 16px;
        }

        .feature-list li {
            padding: 10px;
            margin-bottom: 8px;
            background: var(--bg-secondary);
            border-radius: 6px;
            border-left: 3px solid var(--accent-color);
            font-size: 0.9rem;
        }

        .feature-list li:before {
            content: "âœ“ ";
            color: var(--success-color);
            font-weight: bold;
            margin-right: 8px;
        }

        .example-section {
            background: var(--bg-primary);
            border-radius: 15px;
            padding: 24px;
            box-shadow: var(--card-shadow);
            margin-top: 24px;
        }

        .example-section h2 {
            font-size: 1.3rem;
            margin-bottom: 16px;
            color: var(--text-primary);
        }

        .example-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }

        .example-card {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 16px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .example-card:hover {
            border-color: var(--accent-color);
            box-shadow: 0 4px 12px rgba(236, 72, 153, 0.1);
            transform: translateY(-2px);
        }

        .example-card h3 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .example-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .example-code {
            background: var(--bg-primary);
            padding: 8px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: var(--accent-color);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .stat-item {
            background: linear-gradient(135deg, #ec4899, #be185d);
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-top: 6px;
        }

        .analysis-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            background: var(--bg-secondary);
            border-radius: 6px;
            margin-bottom: 8px;
        }

        .analysis-label {
            flex: 0 0 120px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.9rem;
        }

        .analysis-value {
            flex: 1;
            color: var(--accent-color);
            font-weight: 600;
        }

        .quick-example {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
            gap: 8px;
            margin-bottom: 16px;
        }

        .quick-btn {
            padding: 8px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 0.85rem;
        }

        .quick-btn:hover {
            border-color: var(--accent-color);
            color: var(--accent-color);
        }

        .quick-btn:active {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>âœ¨ æ•°ç»„ä¹˜ç§¯è®¡ç®—å·¥å…·</h1>
            <p>å¿«é€Ÿè®¡ç®—æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯</p>
        </div>

        <div class="main-content">
            <!-- ä¹˜ç§¯è®¡ç®— -->
            <div class="card">
                <h2>ğŸ”¢ ä¹˜ç§¯è®¡ç®—</h2>
                
                <div class="input-group">
                    <div id="numberInputContainer" style="flex: 1;"></div>
                    <button class="btn btn-primary" style="flex: 0 0 auto;" onclick="calculateProduct()">è®¡ç®—</button>
                </div>

                <div class="info-box">
                    <div class="info-label">è®¡ç®—ç»“æœï¼š</div>
                    <div class="info-value" id="productResult">-</div>
                </div>

                <div style="margin-bottom: 16px;">
                    <div class="info-label">æ•°å­—åˆ—è¡¨ï¼š</div>
                    <div class="number-list" id="numberList">å¾…è¾“å…¥...</div>
                </div>

                <div class="quick-example">
                    <button class="quick-btn" onclick="quickCalculate('2,3,4')">2Ã—3Ã—4</button>
                    <button class="quick-btn" onclick="quickCalculate('5,5,2')">5Ã—5Ã—2</button>
                    <button class="quick-btn" onclick="quickCalculate('10,10')">10Ã—10</button>
                    <button class="quick-btn" onclick="quickCalculate('2,2,2,2,2')">2âµ</button>
                    <button class="quick-btn" onclick="quickCalculate('3,3,3')">3Â³</button>
                    <button class="quick-btn" onclick="quickCalculate('1,2,3,4')">1-4</button>
                </div>

                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-label">è®¡ç®—æ¬¡æ•°</div>
                        <div class="stat-value" id="calcCount">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">æ•°å­—ä¸ªæ•°</div>
                        <div class="stat-value" id="numberCount">0</div>
                    </div>
                </div>
            </div>

            <!-- æ•°æ®åˆ†æ -->
            <div class="card">
                <h2>ğŸ“Š æ•°æ®åˆ†æ</h2>
                
                <div style="margin-top: 16px;">
                    <h3 style="color: var(--text-primary); margin-bottom: 12px;">ğŸ“ˆ ç»Ÿè®¡ä¿¡æ¯ï¼š</h3>
                    <div class="analysis-item">
                        <div class="analysis-label">æœ€å°å€¼ï¼š</div>
                        <div class="analysis-value" id="minValue">-</div>
                    </div>
                    <div class="analysis-item">
                        <div class="analysis-label">æœ€å¤§å€¼ï¼š</div>
                        <div class="analysis-value" id="maxValue">-</div>
                    </div>
                    <div class="analysis-item">
                        <div class="analysis-label">å¹³å‡å€¼ï¼š</div>
                        <div class="analysis-value" id="avgValue">-</div>
                    </div>
                    <div class="analysis-item">
                        <div class="analysis-label">æ€»å’Œï¼š</div>
                        <div class="analysis-value" id="sumValue">-</div>
                    </div>
                </div>

                <h3 style="color: var(--text-primary); margin-top: 16px; margin-bottom: 12px;">ğŸ“‹ åŸºç¡€çŸ¥è¯†ï¼š</h3>
                <ul class="feature-list">
                    <li>ä¹˜ç§¯æ˜¯æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„ç›¸ä¹˜ç»“æœ</li>
                    <li>ä»»ä½•æ•°å­—ä¹˜ä»¥ 0 å¾— 0</li>
                    <li>è´Ÿæ•°ä¹˜ä»¥å¶æ•°ä¸ªå¾—æ­£æ•°</li>
                    <li>ç”¨äºé˜¶ä¹˜ã€æ’åˆ—ç»„åˆç­‰è®¡ç®—</li>
                </ul>
            </div>
        </div>

        <!-- åº”ç”¨ç¤ºä¾‹ -->
        <div class="example-section">
            <h2>ğŸ“š å®æˆ˜åº”ç”¨ç¤ºä¾‹</h2>
            <div class="example-grid">
                <div class="example-card" onclick="runExample('factorial')">
                    <h3>ğŸ”¢ é˜¶ä¹˜è®¡ç®—</h3>
                    <div class="example-desc">ä½¿ç”¨ prod è®¡ç®—é˜¶ä¹˜</div>
                    <div class="example-code">prod(1,2,3,4,5)</div>
                </div>

                <div class="example-card" onclick="runExample('combination')">
                    <h3>ğŸ² æ’åˆ—ç»„åˆ</h3>
                    <div class="example-desc">è®¡ç®—æ’åˆ—ç»„åˆæ•°é‡</div>
                    <div class="example-code">C(n,k) = n! / k!</div>
                </div>

                <div class="example-card" onclick="runExample('geometry')">
                    <h3>ğŸ“ å‡ ä½•ä½“ç§¯</h3>
                    <div class="example-desc">é•¿æ–¹ä½“ä½“ç§¯ = é•¿Ã—å®½Ã—é«˜</div>
                    <div class="example-code">prod(3,4,5)</div>
                </div>

                <div class="example-card" onclick="runExample('matrix')">
                    <h3>ğŸ“Š çŸ©é˜µç»´åº¦</h3>
                    <div class="example-desc">è®¡ç®—å¤šç»´æ•°ç»„å…ƒç´ æ€»æ•°</div>
                    <div class="example-code">prod(rows, cols)</div>
                </div>

                <div class="example-card" onclick="runExample('probability')">
                    <h3>ğŸ° æ¦‚ç‡è®¡ç®—</h3>
                    <div class="example-desc">ç‹¬ç«‹äº‹ä»¶çš„è”åˆæ¦‚ç‡</div>
                    <div class="example-code">P(A&B) = P(A)Ã—P(B)</div>
                </div>

                <div class="example-card" onclick="runExample('formula')">
                    <h3>ğŸ“ æ•°å­¦å…¬å¼</h3>
                    <div class="example-desc">ç”¨äºæ•°å­¦è¡¨è¾¾å¼æ±‚å€¼</div>
                    <div class="example-code">æ±‚è§£æ–¹ç¨‹ç³»æ•°</div>
                </div>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥æ’ä»¶è„šæœ¬ -->
    <script src="../../demo/plugins/modal/index.js"></script>
    <script src="../../demo/plugins/notification/index.js"></script>
    <script src="../../demo/plugins/input-number/index.js"></script>

    <script>
        // Core prod function
        const prod = (...arr) => [...arr].reduce((acc, val) => acc * val, 1);

        let stats = {
            calculateCount: 0
        };

        let plugins = {
            modal: null,
            notification: null,
            numberInput: null
        };

        // åˆå§‹åŒ–æ’ä»¶
        function initPlugins() {
            try {
                plugins.modal = new Modal();
                plugins.notification = new Notification();
                plugins.numberInput = new InputNumber({
                    container: '#numberInputContainer',
                    placeholder: 'è¾“å…¥æ•°å­— (ç”¨é€—å·æˆ–ç©ºæ ¼åˆ†éš”)',
                    value: ''
                });
            } catch (error) {
                console.warn('æ’ä»¶åŠ è½½å¤±è´¥:', error);
            }
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'info') {
            if (plugins.notification) {
                plugins.notification.show(message, type);
            } else {
                alert(message);
            }
        }

        // æ˜¾ç¤ºæ¨¡æ€æ¡†
        function showModal(content) {
            if (plugins.modal) {
                plugins.modal.alert(content);
            } else {
                alert(content);
            }
        }

        // è®¡ç®—ä¹˜ç§¯
        function calculateProduct() {
            const input = (plugins.numberInput ? String(plugins.numberInput.getValue() || '') : document.getElementById('numberInput')?.value || '').trim();
            
            if (!input) {
                showNotification('è¯·è¾“å…¥æ•°å­—', 'warning');
                return;
            }

            // è§£æè¾“å…¥çš„æ•°å­—
            const numbers = input
                .split(/[,\s]+/)
                .map(str => parseFloat(str))
                .filter(num => !isNaN(num));

            if (numbers.length === 0) {
                showNotification('è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—', 'warning');
                return;
            }

            // è®¡ç®—ä¹˜ç§¯
            const result = prod(...numbers);

            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('productResult').textContent = 
                result.toLocaleString('zh-CN', { useGrouping: true, maximumFractionDigits: 10 });
            
            // æ˜¾ç¤ºæ•°å­—åˆ—è¡¨
            const numberList = document.getElementById('numberList');
            numberList.innerHTML = numbers
                .map((num, idx) => `<span class="number-badge">${num} <span class="remove-btn" onclick="removeNumber(${idx})">âœ•</span></span>`)
                .join('');

            // ç»Ÿè®¡ä¿¡æ¯
            const minValue = Math.min(...numbers);
            const maxValue = Math.max(...numbers);
            const avgValue = (numbers.reduce((a, b) => a + b, 0) / numbers.length).toFixed(4);
            const sumValue = numbers.reduce((a, b) => a + b, 0);

            document.getElementById('minValue').textContent = minValue;
            document.getElementById('maxValue').textContent = maxValue;
            document.getElementById('avgValue').textContent = avgValue;
            document.getElementById('sumValue').textContent = sumValue;

            // æ›´æ–°ç»Ÿè®¡
            stats.calculateCount++;
            document.getElementById('calcCount').textContent = stats.calculateCount;
            document.getElementById('numberCount').textContent = numbers.length;

            showNotification(`å·²è®¡ç®— ${numbers.length} ä¸ªæ•°å­—çš„ä¹˜ç§¯ï¼š${result.toLocaleString()}`, 'success');
        }

        // å¿«é€Ÿè®¡ç®—
        function quickCalculate(str) {
            const value = str.replace(/Ã—/g, ',').replace(/,/g, ', ');
            if (plugins.numberInput) {
                plugins.numberInput.setValue(value);
            } else if (document.getElementById('numberInput')) {
                document.getElementById('numberInput').value = value;
            }
            calculateProduct();
        }

        // åˆ é™¤æ•°å­—
        function removeNumber(idx) {
            const input = (plugins.numberInput ? String(plugins.numberInput.getValue() || '') : document.getElementById('numberInput')?.value || '').trim();
            const numbers = input
                .split(/[,\s]+/)
                .map(str => parseFloat(str))
                .filter(num => !isNaN(num));
            
            numbers.splice(idx, 1);
            const newValue = numbers.join(', ');
            if (plugins.numberInput) {
                plugins.numberInput.setValue(newValue);
            } else if (document.getElementById('numberInput')) {
                document.getElementById('numberInput').value = newValue;
            }
            calculateProduct();
        }

        // è¿è¡Œç¤ºä¾‹
        function runExample(type) {
            const examples = {
                factorial: () => {
                    const msg = `ğŸ”¢ é˜¶ä¹˜è®¡ç®—:\n\n` +
                        `å®šä¹‰ï¼š\n` +
                        `n! = n Ã— (n-1) Ã— (n-2) Ã— ... Ã— 1\n\n` +
                        `ç‰¹æ®Šè§„å®šï¼š\n` +
                        `0! = 1\n` +
                        `1! = 1\n\n` +
                        `ç¤ºä¾‹ï¼š\n` +
                        `5! = 5 Ã— 4 Ã— 3 Ã— 2 Ã— 1 = 120\n` +
                        `4! = 4 Ã— 3 Ã— 2 Ã— 1 = 24\n` +
                        `3! = 3 Ã— 2 Ã— 1 = 6\n\n` +
                        `ä½¿ç”¨ prod å‡½æ•°ï¼š\n` +
                        `const factorial = (n) => prod(...Array.from({length: n}, (_, i) => i + 1));\n` +
                        `factorial(5); // 120\n\n` +
                        `åº”ç”¨åœºæ™¯ï¼š\n` +
                        `â€¢ æ’åˆ—ç»„åˆè®¡ç®—\n` +
                        `â€¢ æ¦‚ç‡ç»Ÿè®¡\n` +
                        `â€¢ åˆ†æç®—æ³•å¤æ‚åº¦`;
                    showModal(msg);
                },

                combination: () => {
                    const msg = `ğŸ² æ’åˆ—ç»„åˆ:\n\n` +
                        `æ’åˆ— P(n,k)ï¼š\n` +
                        `ä» n ä¸ªæ•°ä¸­å– k ä¸ªï¼ŒæŒ‰é¡ºåºæ’åˆ—\n` +
                        `P(n,k) = n! / (n-k)!\n\n` +
                        `ç»„åˆ C(n,k)ï¼š\n` +
                        `ä» n ä¸ªæ•°ä¸­å– k ä¸ªï¼Œä¸è€ƒè™‘é¡ºåº\n` +
                        `C(n,k) = n! / (k! Ã— (n-k)!)\n\n` +
                        `ç¤ºä¾‹ï¼š\n` +
                        `ä» 5 ä¸ªæ•°ä¸­å– 3 ä¸ªï¼š\n` +
                        `P(5,3) = 5 Ã— 4 Ã— 3 = 60\n` +
                        `C(5,3) = 60 / 3! = 10\n\n` +
                        `ä½¿ç”¨ prod å‡½æ•°ï¼š\n` +
                        `const permutation = (n, k) => prod(...Array.from({length: k}, (_, i) => n - i));\n` +
                        `permutation(5, 3); // 60\n\n` +
                        `åº”ç”¨åœºæ™¯ï¼š\n` +
                        `â€¢ å½©ç¥¨æ¦‚ç‡\n` +
                        `â€¢ å¯†ç ç»„åˆ\n` +
                        `â€¢ åˆ†é…æ–¹æ¡ˆ`;
                    showModal(msg);
                },

                geometry: () => {
                    const msg = `ğŸ“ å‡ ä½•ä½“ç§¯:\n\n` +
                        `é•¿æ–¹ä½“ä½“ç§¯ï¼š\n` +
                        `V = é•¿ Ã— å®½ Ã— é«˜\n\n` +
                        `çƒä½“ä½“ç§¯ï¼š\n` +
                        `V = (4/3) Ã— Ï€ Ã— rÂ³\n\n` +
                        `åœ†æŸ±ä½“ä½“ç§¯ï¼š\n` +
                        `V = Ï€ Ã— rÂ² Ã— h\n` +
                        `= Ï€ Ã— r Ã— r Ã— h\n\n` +
                        `ç¤ºä¾‹ï¼š\n` +
                        `é•¿æ–¹ä½“ (3Ã—4Ã—5)ï¼š\n` +
                        `V = prod(3, 4, 5) = 60\n\n` +
                        `ä½¿ç”¨ prod å‡½æ•°ï¼š\n` +
                        `const boxVolume = (l, w, h) => prod(l, w, h);\n` +
                        `boxVolume(3, 4, 5); // 60\n\n` +
                        `åº”ç”¨åœºæ™¯ï¼š\n` +
                        `â€¢ å·¥ç¨‹è®¡ç®—\n` +
                        `â€¢ æˆ¿å±‹è£…ä¿®\n` +
                        `â€¢ ç‰©æµåŒ…è£…`;
                    showModal(msg);
                },

                matrix: () => {
                    const msg = `ğŸ“Š çŸ©é˜µç»´åº¦:\n\n` +
                        `äºŒç»´çŸ©é˜µï¼š\n` +
                        `M[rows][cols]\n` +
                        `å…ƒç´ æ€»æ•° = rows Ã— cols\n\n` +
                        `ä¸‰ç»´çŸ©é˜µï¼š\n` +
                        `M[depth][rows][cols]\n` +
                        `å…ƒç´ æ€»æ•° = depth Ã— rows Ã— cols\n\n` +
                        `ç¤ºä¾‹ï¼š\n` +
                        `3Ã—4 çŸ©é˜µï¼š12 ä¸ªå…ƒç´ \n` +
                        `2Ã—3Ã—4 çŸ©é˜µï¼š24 ä¸ªå…ƒç´ \n\n` +
                        `ä½¿ç”¨ prod å‡½æ•°ï¼š\n` +
                        `const arraySize = (...dims) => prod(...dims);\n` +
                        `arraySize(3, 4); // 12\n` +
                        `arraySize(2, 3, 4); // 24\n\n` +
                        `åº”ç”¨åœºæ™¯ï¼š\n` +
                        `â€¢ å†…å­˜åˆ†é…\n` +
                        `â€¢ æ•°æ®ç»“æ„è®¾è®¡\n` +
                        `â€¢ å›¾åƒå¤„ç† (RGB åƒç´ )`;
                    showModal(msg);
                },

                probability: () => {
                    const msg = `ğŸ° æ¦‚ç‡è®¡ç®—:\n\n` +
                        `ç‹¬ç«‹äº‹ä»¶è”åˆæ¦‚ç‡ï¼š\n` +
                        `P(Aâˆ©Bâˆ©C) = P(A) Ã— P(B) Ã— P(C)\n\n` +
                        `éª°å­ç¤ºä¾‹ï¼š\n` +
                        `3 ä¸ªéª°å­åŒæ—¶å‡ºç° 6 ç‚¹ï¼š\n` +
                        `P = (1/6) Ã— (1/6) Ã— (1/6)\n` +
                        `P = prod(1/6, 1/6, 1/6) = 1/216\n\n` +
                        `ç¡¬å¸ç¤ºä¾‹ï¼š\n` +
                        `4 æ¬¡ç¡¬å¸éƒ½æ˜¯æ­£é¢ï¼š\n` +
                        `P = 0.5 Ã— 0.5 Ã— 0.5 Ã— 0.5 = 1/16\n` +
                        `P = prod(0.5, 0.5, 0.5, 0.5)\n\n` +
                        `ä½¿ç”¨ prod å‡½æ•°ï¼š\n` +
                        `const jointProbability = (...probs) => prod(...probs);\n` +
                        `jointProbability(1/6, 1/6, 1/6); // 0.004629...\n\n` +
                        `åº”ç”¨åœºæ™¯ï¼š\n` +
                        `â€¢ å¤©æ°”é¢„æŠ¥\n` +
                        `â€¢ é£é™©è¯„ä¼°\n` +
                        `â€¢ èµŒåšç­–ç•¥`;
                    showModal(msg);
                },

                formula: () => {
                    const msg = `ğŸ“ æ•°å­¦å…¬å¼:\n\n` +
                        `å¤šé¡¹å¼æ±‚å€¼ï¼š\n` +
                        `(a + b)(c + d) = ac + ad + bc + bd\n\n` +
                        `äºŒé¡¹å±•å¼€ç³»æ•°ï¼š\n` +
                        `(x+y)â¿ çš„ç³»æ•°ä¸­åŒ…å«ä¹˜ç§¯é¡¹\n\n` +
                        `æŒ‡æ•°è¿ç®—ï¼š\n` +
                        `aâ¿ = a Ã— a Ã— a ... (n æ¬¡)\n` +
                        `= prod(a, a, a, ...)\n\n` +
                        `ç¤ºä¾‹ï¼š\n` +
                        `2Â³ = prod(2, 2, 2) = 8\n` +
                        `3â´ = prod(3, 3, 3, 3) = 81\n\n` +
                        `ä½¿ç”¨ prod å‡½æ•°ï¼š\n` +
                        `const power = (base, exp) => {\n` +
                        `  return prod(...Array(exp).fill(base));\n` +
                        `};\n` +
                        `power(2, 3); // 8\n\n` +
                        `åº”ç”¨åœºæ™¯ï¼š\n` +
                        `â€¢ ç¬¦å·è®¡ç®—\n` +
                        `â€¢ ä»£æ•°ç®€åŒ–\n` +
                        `â€¢ æ•°å­¦å»ºæ¨¡`;
                    showModal(msg);
                }
            };

            examples[type]?.();
        }

        // å›è½¦ç”Ÿæˆ
        document.addEventListener('DOMContentLoaded', () => {
            if (document.getElementById('numberInput')) {
                document.getElementById('numberInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        calculateProduct();
                    }
                });
            }
            
            // ä¸ºæ’ä»¶è¾“å…¥æ¡†æ·»åŠ å›è½¦äº‹ä»¶
            setTimeout(() => {
                if (plugins.numberInput && plugins.numberInput.input) {
                    plugins.numberInput.input.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            calculateProduct();
                        }
                    });
                }
            }, 500);
        });

        // åˆå§‹åŒ–
        window.addEventListener('load', () => {
            initPlugins();
        });
    </script>
</body>

</html>