<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½ä»£ç æ ¼å¼åŒ–ä¸æ–‡æ¡£ç”Ÿæˆç³»ç»Ÿ - indentStringå‡½æ•°å®æˆ˜ç¤ºä¾‹</title>
    <link rel="stylesheet" href="../../demo/plugins/modal/style.css">
    <link rel="stylesheet" href="../../demo/plugins/notification/style.css">
    <link rel="stylesheet" href="../../demo/plugins/select/style.css">
    <link rel="stylesheet" href="../../demo/plugins/checkbox/style.css">
    <link rel="stylesheet" href="../../demo/plugins/datetime-picker/style.css">
    <link rel="stylesheet" href="../../demo/plugins/input-number/style.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .control-panel {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
            margin-bottom: 30px;
        }

        .control-section {
            margin-bottom: 25px;
        }

        .control-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 8px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 0.9em;
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 14px;
            margin: 5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.4);
        }

        .btn-warning {
            background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%);
            color: #212529;
        }

        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 193, 7, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #e74c3c 100%);
            color: white;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(220, 53, 69, 0.4);
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .card-icon {
            font-size: 1.5em;
        }

        .card-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #333;
        }

        .editor-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .editor-toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .code-editor {
            width: 100%;
            min-height: 300px;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: vertical;
            background: #2d3748;
            color: #e2e8f0;
        }

        .code-editor:focus {
            outline: none;
            border-color: #667eea;
        }

        .output-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .output-display {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            min-height: 200px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            overflow-x: auto;
        }

        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .template-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .template-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .template-card.selected {
            border-color: #28a745;
            background: #f8fff9;
        }

        .template-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .template-icon {
            font-size: 1.2em;
        }

        .template-name {
            font-weight: 600;
            color: #333;
        }

        .template-description {
            color: #666;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .formatting-options {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .option-group {
            margin-bottom: 15px;
        }

        .option-label {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            display: block;
        }

        .option-controls {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .indent-preview {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin-top: 10px;
            white-space: pre;
            overflow-x: auto;
        }

        .document-generator {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .generator-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .generated-document {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            min-height: 300px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre-wrap;
            overflow-x: auto;
        }

        .stats-panel {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            max-height: 300px;
            overflow-y: auto;
        }

        .stats-entry {
            margin-bottom: 8px;
            padding: 5px 0;
            border-bottom: 1px solid #4a5568;
        }

        .stats-time {
            color: #a0aec0;
            margin-right: 10px;
        }

        .stats-action {
            color: #63b3ed;
        }

        .stats-result {
            margin-left: 10px;
        }

        .stats-result.success {
            color: #68d391;
        }

        .stats-result.warning {
            color: #f6ad55;
        }

        .stats-result.error {
            color: #fc8181;
        }

        .code-snippets {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .snippet-item {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .snippet-item:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .snippet-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .snippet-name {
            font-weight: 600;
            color: #333;
        }

        .snippet-language {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .language-js {
            background: #f7df1e;
            color: #000;
        }

        .language-python {
            background: #3776ab;
            color: white;
        }

        .language-html {
            background: #e34c26;
            color: white;
        }

        .language-css {
            background: #1572b6;
            color: white;
        }

        .snippet-code {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            color: #333;
            white-space: pre-wrap;
            max-height: 100px;
            overflow-y: auto;
        }

        .comparison-view {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .comparison-panel {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }

        .comparison-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }

        .comparison-content {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 10px;
            min-height: 200px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
            overflow-x: auto;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .controls-grid {
                grid-template-columns: 1fr;
            }
            
            .template-grid {
                grid-template-columns: 1fr;
            }
            
            .comparison-view {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’» æ™ºèƒ½ä»£ç æ ¼å¼åŒ–ä¸æ–‡æ¡£ç”Ÿæˆç³»ç»Ÿ</h1>
            <p>åŸºäº indentString å‡½æ•°çš„å®æˆ˜ç¤ºä¾‹ - ä»£ç ç¼©è¿›ã€æ ¼å¼åŒ–ã€æ–‡æ¡£ç”Ÿæˆ</p>
        </div>

        <div class="content">
            <!-- æ§åˆ¶é¢æ¿ -->
            <div class="control-panel">
                <div class="control-section">
                    <h3>âš™ï¸ æ ¼å¼åŒ–é…ç½®</h3>
                    <div class="controls-grid">
                        <div class="form-group">
                            <label>ç¼©è¿›ç±»å‹</label>
                            <div id="indentTypeSelect"></div>
                        </div>
                        <div class="form-group">
                            <label>ç¼©è¿›æ•°é‡</label>
                            <div id="indentCountInput"></div>
                        </div>
                        <div class="form-group">
                            <label>è¯­è¨€ç±»å‹</label>
                            <div id="languageTypeSelect"></div>
                        </div>
                        <div class="form-group">
                            <label>è‡ªåŠ¨æ ¼å¼åŒ–</label>
                            <div id="autoFormatCheckbox"></div>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="formatCode()">æ ¼å¼åŒ–ä»£ç </button>
                    <button class="btn btn-success" onclick="generateDocument()">ç”Ÿæˆæ–‡æ¡£</button>
                    <button class="btn btn-warning" onclick="applyTemplate()">åº”ç”¨æ¨¡æ¿</button>
                    <button class="btn btn-danger" onclick="clearAll()">æ¸…é™¤å…¨éƒ¨</button>
                </div>
            </div>

            <!-- ä»ªè¡¨æ¿ -->
            <div class="dashboard">
                <!-- ä»£ç ç¼–è¾‘å™¨ -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“</span>
                        <span class="card-title">ä»£ç ç¼–è¾‘å™¨</span>
                    </div>
                    <div class="editor-container">
                        <div class="editor-toolbar">
                            <button class="btn btn-primary" onclick="loadSnippet()">åŠ è½½ä»£ç ç‰‡æ®µ</button>
                            <button class="btn btn-success" onclick="saveSnippet()">ä¿å­˜ä»£ç </button>
                            <button class="btn btn-warning" onclick="clearEditor()">æ¸…ç©ºç¼–è¾‘å™¨</button>
                        </div>
                        <textarea id="codeEditor" class="code-editor" placeholder="åœ¨è¿™é‡Œè¾“å…¥ä»£ç ..."></textarea>
                    </div>
                </div>

                <!-- æ ¼å¼åŒ–é€‰é¡¹ -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ”§</span>
                        <span class="card-title">æ ¼å¼åŒ–é€‰é¡¹</span>
                    </div>
                    <div class="formatting-options">
                        <div class="option-group">
                            <label class="option-label">ç¼©è¿›å­—ç¬¦</label>
                            <div class="option-controls">
                                <div id="indentCharSelect"></div>
                                <div id="indentSizeInput"></div>
                            </div>
                        </div>
                        <div class="option-group">
                            <label class="option-label">ç¼©è¿›é¢„è§ˆ</label>
                            <div class="indent-preview" id="indentPreview">
function example() {
    if (condition) {
        console.log('Hello World');
    }
}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ä»£ç ç‰‡æ®µåº“ -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon">ğŸ“š</span>
                        <span class="card-title">ä»£ç ç‰‡æ®µåº“</span>
                    </div>
                    <div class="code-snippets" id="codeSnippets">
                        <!-- ä»£ç ç‰‡æ®µå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                    </div>
                </div>
            </div>

            <!-- æ¨¡æ¿é€‰æ‹© -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">ğŸ“‹</span>
                    <span class="card-title">æ–‡æ¡£æ¨¡æ¿</span>
                </div>
                <div class="template-grid" id="templateGrid">
                    <!-- æ¨¡æ¿å¡ç‰‡å°†åœ¨è¿™é‡Œç”Ÿæˆ -->
                </div>
            </div>

            <!-- æ–‡æ¡£ç”Ÿæˆå™¨ -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">ğŸ“„</span>
                    <span class="card-title">æ–‡æ¡£ç”Ÿæˆå™¨</span>
                </div>
                <div class="document-generator">
                    <div class="generator-form">
                        <div class="form-group">
                            <label>é¡¹ç›®åç§°</label>
                            <div id="projectNameInput"></div>
                        </div>
                        <div class="form-group">
                            <label>ä½œè€…</label>
                            <div id="authorInput"></div>
                        </div>
                        <div class="form-group">
                            <label>ç‰ˆæœ¬</label>
                            <div id="versionInput"></div>
                        </div>
                        <div class="form-group">
                            <label>æè¿°</label>
                            <div id="descriptionInput"></div>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="generateReadme()">ç”Ÿæˆ README</button>
                    <button class="btn btn-success" onclick="generateApiDoc()">ç”Ÿæˆ API æ–‡æ¡£</button>
                    <div class="generated-document" id="generatedDocument">
                        <!-- ç”Ÿæˆçš„æ–‡æ¡£å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                    </div>
                </div>
            </div>

            <!-- å¯¹æ¯”è§†å›¾ -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">ğŸ”</span>
                    <span class="card-title">æ ¼å¼åŒ–å¯¹æ¯”</span>
                </div>
                <div class="comparison-view">
                    <div class="comparison-panel">
                        <div class="comparison-title">åŸå§‹ä»£ç </div>
                        <div class="comparison-content" id="originalCode">
                            <!-- åŸå§‹ä»£ç å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                        </div>
                    </div>
                    <div class="comparison-panel">
                        <div class="comparison-title">æ ¼å¼åŒ–å</div>
                        <div class="comparison-content" id="formattedCode">
                            <!-- æ ¼å¼åŒ–åçš„ä»£ç å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- è¾“å‡ºç»“æœ -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">ğŸ“¤</span>
                    <span class="card-title">è¾“å‡ºç»“æœ</span>
                </div>
                <div class="output-container">
                    <div class="output-display" id="outputDisplay">
                        <!-- è¾“å‡ºç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                    </div>
                </div>
            </div>

            <!-- æ“ä½œç»Ÿè®¡ -->
            <div class="card">
                <div class="card-header">
                    <span class="card-icon">ğŸ“ˆ</span>
                    <span class="card-title">æ“ä½œç»Ÿè®¡</span>
                </div>
                <div class="stats-panel" id="statsPanel">
                    <!-- ç»Ÿè®¡ä¿¡æ¯å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
        </div>
    </div>

    <!-- å¼•å…¥æ’ä»¶ -->
    <script src="../../demo/plugins/modal/index.js"></script>
    <script src="../../demo/plugins/notification/index.js"></script>
    <script src="../../demo/plugins/select/index.js"></script>
    <script src="../../demo/plugins/checkbox/index.js"></script>
    <script src="../../demo/plugins/datetime-picker/index.js"></script>
    <script src="../../demo/plugins/input-number/index.js"></script>

    <script>
        // å…¨å±€å˜é‡
        let modal, notification;
        let indentTypeSelect, indentCountInput, languageTypeSelect, autoFormatCheckbox;
        let indentCharSelect, indentSizeInput;
        let projectNameInput, authorInput, versionInput, descriptionInput;
        let codeSnippets = [];
        let templates = [];
        let operationHistory = [];

        // indentString å‡½æ•°
        const indentString = (str, count, indent = ' ') => str.replace(/^/gm, indent.repeat(count));

        // åˆå§‹åŒ–åº”ç”¨
        function initApp() {
            // åˆå§‹åŒ–æ’ä»¶
            modal = new Modal();
            notification = new Notification({ position: 'top-right' });

            // åˆå§‹åŒ–é€‰æ‹©æ§ä»¶
            indentTypeSelect = new Select({
                container: document.getElementById('indentTypeSelect'),
                options: [
                    { value: 'space', label: 'ç©ºæ ¼' },
                    { value: 'tab', label: 'åˆ¶è¡¨ç¬¦' },
                    { value: 'custom', label: 'è‡ªå®šä¹‰' }
                ],
                placeholder: 'é€‰æ‹©ç¼©è¿›ç±»å‹'
            });

            indentCountInput = new InputNumber({
                container: document.getElementById('indentCountInput'),
                min: 1,
                max: 8,
                value: 2,
                step: 1
            });

            languageTypeSelect = new Select({
                container: document.getElementById('languageTypeSelect'),
                options: [
                    { value: 'javascript', label: 'JavaScript' },
                    { value: 'python', label: 'Python' },
                    { value: 'html', label: 'HTML' },
                    { value: 'css', label: 'CSS' },
                    { value: 'json', label: 'JSON' }
                ],
                placeholder: 'é€‰æ‹©è¯­è¨€ç±»å‹'
            });

            autoFormatCheckbox = new Checkbox({
                label: 'å¯ç”¨è‡ªåŠ¨æ ¼å¼åŒ–',
                checked: true,
                onChange: (checked) => {
                    console.log('è‡ªåŠ¨æ ¼å¼åŒ–çŠ¶æ€:', checked);
                }
            });
            autoFormatCheckbox.mount(document.getElementById('autoFormatCheckbox'));

            // åˆå§‹åŒ–æ ¼å¼åŒ–é€‰é¡¹æ§ä»¶
            indentCharSelect = new Select({
                container: document.getElementById('indentCharSelect'),
                options: [
                    { value: ' ', label: 'ç©ºæ ¼' },
                    { value: '\t', label: 'åˆ¶è¡¨ç¬¦' },
                    { value: '  ', label: 'åŒç©ºæ ¼' },
                    { value: '    ', label: 'å››ä¸ªç©ºæ ¼' }
                ],
                placeholder: 'é€‰æ‹©ç¼©è¿›å­—ç¬¦'
            });

            indentSizeInput = new InputNumber({
                container: document.getElementById('indentSizeInput'),
                min: 1,
                max: 8,
                value: 2,
                step: 1
            });

            // åˆå§‹åŒ–æ–‡æ¡£ç”Ÿæˆå™¨æ§ä»¶
            projectNameInput = new InputNumber({
                container: document.getElementById('projectNameInput'),
                placeholder: 'è¾“å…¥é¡¹ç›®åç§°'
            });

            authorInput = new InputNumber({
                container: document.getElementById('authorInput'),
                placeholder: 'è¾“å…¥ä½œè€…åç§°'
            });

            versionInput = new InputNumber({
                container: document.getElementById('versionInput'),
                placeholder: 'è¾“å…¥ç‰ˆæœ¬å·'
            });

            descriptionInput = new InputNumber({
                container: document.getElementById('descriptionInput'),
                placeholder: 'è¾“å…¥é¡¹ç›®æè¿°'
            });

            // åˆå§‹åŒ–æ•°æ®
            initializeData();

            // åˆå§‹åŒ–ç•Œé¢
            updateCodeSnippets();
            updateTemplates();
            updateIndentPreview();
            addStatsLog('ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ', 'info');

            // ç»‘å®šäº‹ä»¶
            indentCharSelect.onChange = updateIndentPreview;
            indentSizeInput.onChange = updateIndentPreview;
        }

        // åˆå§‹åŒ–æ•°æ®
        function initializeData() {
            // åˆå§‹åŒ–ä»£ç ç‰‡æ®µ
            codeSnippets = [
                {
                    id: 1,
                    name: 'JavaScript å‡½æ•°',
                    language: 'js',
                    code: `function calculateSum(a, b) {
return a + b;
}

function processData(data) {
const result = data.map(item => {
return item * 2;
});
return result;
}`
                },
                {
                    id: 2,
                    name: 'Python ç±»',
                    language: 'python',
                    code: `class Calculator:
def __init__(self):
self.result = 0

def add(self, x, y):
return x + y

def multiply(self, x, y):
return x * y

def get_result(self):
return self.result`
                },
                {
                    id: 3,
                    name: 'HTML ç»“æ„',
                    language: 'html',
                    code: `<div class="container">
<div class="header">
<h1>æ ‡é¢˜</h1>
</div>
<div class="content">
<p>å†…å®¹</p>
</div>
</div>`
                },
                {
                    id: 4,
                    name: 'CSS æ ·å¼',
                    language: 'css',
                    code: `.container {
background: #fff;
padding: 20px;
}

.header {
color: #333;
font-size: 24px;
}

.content {
margin: 10px 0;
}`
                }
            ];

            // åˆå§‹åŒ–æ¨¡æ¿
            templates = [
                {
                    id: 1,
                    name: 'README.md',
                    icon: 'ğŸ“–',
                    description: 'æ ‡å‡†çš„é¡¹ç›® README æ–‡æ¡£æ¨¡æ¿',
                    content: `# {projectName}

{description}

## å®‰è£…

\`\`\`bash
npm install {projectName}
\`\`\`

## ä½¿ç”¨æ–¹æ³•

\`\`\`javascript
const {projectName} = require('{projectName}');
\`\`\`

## ä½œè€…

{author}

## ç‰ˆæœ¬

{version}`
                },
                {
                    id: 2,
                    name: 'API æ–‡æ¡£',
                    icon: 'ğŸ“š',
                    description: 'API æ¥å£æ–‡æ¡£æ¨¡æ¿',
                    content: `# {projectName} API æ–‡æ¡£

## æ¦‚è¿°

{description}

## æ¥å£åˆ—è¡¨

### GET /api/data

è·å–æ•°æ®åˆ—è¡¨

**å‚æ•°:**
- page: é¡µç 
- limit: æ¯é¡µæ•°é‡

**å“åº”:**
\`\`\`json
{
  "code": 200,
  "data": [],
  "message": "success"
}
\`\`\`

## ç‰ˆæœ¬ä¿¡æ¯

- ç‰ˆæœ¬: {version}
- ä½œè€…: {author}`
                },
                {
                    id: 3,
                    name: 'é…ç½®æ–‡ä»¶',
                    icon: 'âš™ï¸',
                    description: 'é¡¹ç›®é…ç½®æ–‡ä»¶æ¨¡æ¿',
                    content: `{
  "name": "{projectName}",
  "version": "{version}",
  "description": "{description}",
  "author": "{author}",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "test": "jest",
    "build": "webpack"
  },
  "dependencies": {
    "express": "^4.17.1"
  },
  "devDependencies": {
    "jest": "^27.0.0"
  }
}`
                }
            ];
        }

        // æ›´æ–°ä»£ç ç‰‡æ®µ
        function updateCodeSnippets() {
            const container = document.getElementById('codeSnippets');
            container.innerHTML = '';

            codeSnippets.forEach(snippet => {
                const item = document.createElement('div');
                item.className = 'snippet-item';
                item.onclick = () => loadSnippetById(snippet.id);

                item.innerHTML = `
                    <div class="snippet-header">
                        <span class="snippet-name">${snippet.name}</span>
                        <span class="snippet-language language-${snippet.language}">${snippet.language.toUpperCase()}</span>
                    </div>
                    <div class="snippet-code">${snippet.code}</div>
                `;

                container.appendChild(item);
            });
        }

        // æ›´æ–°æ¨¡æ¿
        function updateTemplates() {
            const container = document.getElementById('templateGrid');
            container.innerHTML = '';

            templates.forEach(template => {
                const card = document.createElement('div');
                card.className = 'template-card';
                card.onclick = () => selectTemplate(template.id);

                card.innerHTML = `
                    <div class="template-header">
                        <span class="template-icon">${template.icon}</span>
                        <span class="template-name">${template.name}</span>
                    </div>
                    <div class="template-description">${template.description}</div>
                `;

                container.appendChild(card);
            });
        }

        // æ›´æ–°ç¼©è¿›é¢„è§ˆ
        function updateIndentPreview() {
            const indentChar = indentCharSelect.getValue() || ' ';
            const indentSize = indentSizeInput.getValue() || 2;
            const previewCode = `function example() {
if (condition) {
console.log('Hello World');
}
}`;

            const formattedCode = indentString(previewCode, indentSize, indentChar);
            document.getElementById('indentPreview').textContent = formattedCode;
        }

        // æ ¼å¼åŒ–ä»£ç 
        function formatCode() {
            const code = document.getElementById('codeEditor').value;
            const indentType = indentTypeSelect.getValue();
            const indentCount = indentCountInput.getValue();
            const language = languageTypeSelect.getValue();

            if (!code.trim()) {
                notification.error('è¯·å…ˆè¾“å…¥ä»£ç ');
                return;
            }

            let indentChar = ' ';
            if (indentType === 'tab') {
                indentChar = '\t';
            } else if (indentType === 'custom') {
                indentChar = indentCharSelect.getValue() || ' ';
            }

            const formattedCode = indentString(code, indentCount, indentChar);

            // æ›´æ–°å¯¹æ¯”è§†å›¾
            document.getElementById('originalCode').textContent = code;
            document.getElementById('formattedCode').textContent = formattedCode;

            // æ›´æ–°è¾“å‡ºæ˜¾ç¤º
            document.getElementById('outputDisplay').textContent = formattedCode;

            // æ›´æ–°ç¼–è¾‘å™¨
            document.getElementById('codeEditor').value = formattedCode;

            addStatsLog(`æ ¼å¼åŒ–ä»£ç  (${language}, ${indentCount}${indentType})`, 'success');
            notification.success('ä»£ç æ ¼å¼åŒ–å®Œæˆ');
        }

        // ç”Ÿæˆæ–‡æ¡£
        function generateDocument() {
            const projectName = projectNameInput.getValue() || 'MyProject';
            const author = authorInput.getValue() || 'Developer';
            const version = versionInput.getValue() || '1.0.0';
            const description = descriptionInput.getValue() || 'A wonderful project';

            const template = templates.find(t => t.selected);
            if (!template) {
                notification.error('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªæ¨¡æ¿');
                return;
            }

            let content = template.content;
            content = content.replace(/{projectName}/g, projectName);
            content = content.replace(/{author}/g, author);
            content = content.replace(/{version}/g, version);
            content = content.replace(/{description}/g, description);

            document.getElementById('generatedDocument').textContent = content;
            addStatsLog(`ç”Ÿæˆæ–‡æ¡£: ${template.name}`, 'success');
            notification.success('æ–‡æ¡£ç”Ÿæˆå®Œæˆ');
        }

        // åº”ç”¨æ¨¡æ¿
        function applyTemplate() {
            const template = templates.find(t => t.selected);
            if (!template) {
                notification.error('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªæ¨¡æ¿');
                return;
            }

            const code = document.getElementById('codeEditor').value;
            const indentCount = indentCountInput.getValue();
            const indentChar = indentCharSelect.getValue() || ' ';

            const formattedTemplate = indentString(template.content, indentCount, indentChar);
            document.getElementById('codeEditor').value = formattedTemplate;

            addStatsLog(`åº”ç”¨æ¨¡æ¿: ${template.name}`, 'success');
            notification.success('æ¨¡æ¿åº”ç”¨å®Œæˆ');
        }

        // é€‰æ‹©æ¨¡æ¿
        function selectTemplate(templateId) {
            templates.forEach(t => t.selected = false);
            const template = templates.find(t => t.id === templateId);
            if (template) {
                template.selected = true;
            }

            // æ›´æ–°UI
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.target.closest('.template-card').classList.add('selected');
        }

        // åŠ è½½ä»£ç ç‰‡æ®µ
        function loadSnippet() {
            const snippets = codeSnippets.map(s => ({ value: s.id, label: s.name }));
            modal.prompt('é€‰æ‹©ä»£ç ç‰‡æ®µ:', snippets).then(snippetId => {
                if (snippetId) {
                    loadSnippetById(parseInt(snippetId));
                }
            });
        }

        // æ ¹æ®IDåŠ è½½ä»£ç ç‰‡æ®µ
        function loadSnippetById(snippetId) {
            const snippet = codeSnippets.find(s => s.id === snippetId);
            if (snippet) {
                document.getElementById('codeEditor').value = snippet.code;
                languageTypeSelect.setValue(snippet.language);
                addStatsLog(`åŠ è½½ä»£ç ç‰‡æ®µ: ${snippet.name}`, 'info');
                notification.success(`å·²åŠ è½½ ${snippet.name}`);
            }
        }

        // ä¿å­˜ä»£ç ç‰‡æ®µ
        function saveSnippet() {
            const code = document.getElementById('codeEditor').value.trim();
            if (!code) {
                notification.error('è¯·å…ˆè¾“å…¥ä»£ç ');
                return;
            }

            modal.prompt('è¾“å…¥ä»£ç ç‰‡æ®µåç§°:').then(name => {
                if (name) {
                    const newSnippet = {
                        id: codeSnippets.length + 1,
                        name: name,
                        language: languageTypeSelect.getValue() || 'js',
                        code: code
                    };
                    codeSnippets.push(newSnippet);
                    updateCodeSnippets();
                    addStatsLog(`ä¿å­˜ä»£ç ç‰‡æ®µ: ${name}`, 'success');
                    notification.success('ä»£ç ç‰‡æ®µä¿å­˜æˆåŠŸ');
                }
            });
        }

        // ç”Ÿæˆ README
        function generateReadme() {
            const projectName = projectNameInput.getValue() || 'MyProject';
            const author = authorInput.getValue() || 'Developer';
            const version = versionInput.getValue() || '1.0.0';
            const description = descriptionInput.getValue() || 'A wonderful project';

            const readmeContent = `# ${projectName}

${description}

## å®‰è£…

\`\`\`bash
npm install ${projectName}
\`\`\`

## ä½¿ç”¨æ–¹æ³•

\`\`\`javascript
const ${projectName} = require('${projectName}');
\`\`\`

## ä½œè€…

${author}

## ç‰ˆæœ¬

${version}`;

            document.getElementById('generatedDocument').textContent = readmeContent;
            addStatsLog('ç”Ÿæˆ README æ–‡æ¡£', 'success');
            notification.success('README ç”Ÿæˆå®Œæˆ');
        }

        // ç”Ÿæˆ API æ–‡æ¡£
        function generateApiDoc() {
            const projectName = projectNameInput.getValue() || 'MyProject';
            const author = authorInput.getValue() || 'Developer';
            const version = versionInput.getValue() || '1.0.0';
            const description = descriptionInput.getValue() || 'A wonderful project';

            const apiContent = `# ${projectName} API æ–‡æ¡£

## æ¦‚è¿°

${description}

## æ¥å£åˆ—è¡¨

### GET /api/data

è·å–æ•°æ®åˆ—è¡¨

**å‚æ•°:**
- page: é¡µç 
- limit: æ¯é¡µæ•°é‡

**å“åº”:**
\`\`\`json
{
  "code": 200,
  "data": [],
  "message": "success"
}
\`\`\`

## ç‰ˆæœ¬ä¿¡æ¯

- ç‰ˆæœ¬: ${version}
- ä½œè€…: ${author}`;

            document.getElementById('generatedDocument').textContent = apiContent;
            addStatsLog('ç”Ÿæˆ API æ–‡æ¡£', 'success');
            notification.success('API æ–‡æ¡£ç”Ÿæˆå®Œæˆ');
        }

        // æ¸…é™¤ç¼–è¾‘å™¨
        function clearEditor() {
            modal.confirm('ç¡®å®šè¦æ¸…ç©ºç¼–è¾‘å™¨å—ï¼Ÿ').then(confirmed => {
                if (confirmed) {
                    document.getElementById('codeEditor').value = '';
                    notification.success('ç¼–è¾‘å™¨å·²æ¸…ç©º');
                }
            });
        }

        // æ¸…é™¤å…¨éƒ¨
        function clearAll() {
            modal.confirm('ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰å†…å®¹å—ï¼Ÿ').then(confirmed => {
                if (confirmed) {
                    document.getElementById('codeEditor').value = '';
                    document.getElementById('outputDisplay').textContent = '';
                    document.getElementById('generatedDocument').textContent = '';
                    document.getElementById('originalCode').textContent = '';
                    document.getElementById('formattedCode').textContent = '';
                    addStatsLog('æ¸…é™¤æ‰€æœ‰å†…å®¹', 'info');
                    notification.success('æ‰€æœ‰å†…å®¹å·²æ¸…é™¤');
                }
            });
        }

        // æ·»åŠ ç»Ÿè®¡æ—¥å¿—
        function addStatsLog(action, status) {
            const timestamp = new Date();
            const logEntry = {
                time: timestamp,
                action: action,
                status: status
            };

            operationHistory.unshift(logEntry);
            if (operationHistory.length > 50) {
                operationHistory.pop();
            }

            updateStatsPanel();
        }

        // æ›´æ–°ç»Ÿè®¡é¢æ¿
        function updateStatsPanel() {
            const container = document.getElementById('statsPanel');
            
            container.innerHTML = operationHistory.map(entry => `
                <div class="stats-entry">
                    <span class="stats-time">${formatDateTime(entry.time)}</span>
                    <span class="stats-action">${entry.action}</span>
                    <span class="stats-result ${entry.status}">${entry.status}</span>
                </div>
            `).join('');
        }

        // æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´
        function formatDateTime(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            const hours = String(date.getHours()).padStart(2, '0');
            const minutes = String(date.getMinutes()).padStart(2, '0');
            const seconds = String(date.getSeconds()).padStart(2, '0');
            return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>

</html>