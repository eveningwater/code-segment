<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ¨æ€CSSä¸»é¢˜åˆ‡æ¢å™¨ä¸æ ·å¼ç¼–è¾‘å™¨</title>
    <link rel="stylesheet" href="../../demo/plugins/modal/style.css">
    <link rel="stylesheet" href="../../demo/plugins/checkbox/style.css">
    <link rel="stylesheet" href="../../demo/plugins/input-number/style.css">
    <link rel="stylesheet" href="../../demo/plugins/select/style.css">
    <link rel="stylesheet" href="../../demo/plugins/notification/style.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        #app {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .app-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .app-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .app-header p {
            font-size: 1.1rem;
            color: #666;
        }

        .app-main {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
        }

        .control-panel {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .control-section {
            margin-bottom: 25px;
        }

        .control-section h3 {
            margin-bottom: 15px;
            color: #333;
            font-size: 1.1rem;
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .theme-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            background: #f8f9fa;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .theme-btn:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }

        .theme-btn.active {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
        }

        .param-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .param-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .param-group label {
            font-weight: 600;
            color: #555;
            font-size: 0.9rem;
        }

        .preview-panel {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .preview-header h3 {
            color: #333;
        }

        .preview-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .demo-card, .demo-form, .demo-list {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .card-badge {
            background: #ff6b6b;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .card-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-textarea {
            height: 80px;
            resize: vertical;
        }

        .list-items {
            list-style: none;
        }

        .list-item {
            padding: 10px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #4facfe;
        }

        .code-panel {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .code-header h3 {
            color: #333;
        }

        .code-actions {
            display: flex;
            gap: 10px;
        }

        .code-container {
            background: #2d3748;
            border-radius: 8px;
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
        }

        .code-block {
            color: #e2e8f0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            white-space: pre-wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        @media (max-width: 1200px) {
            .app-main {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .app-header h1 {
                font-size: 2rem;
            }
            
            .theme-grid {
                grid-template-columns: 1fr;
            }
            
            .code-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <header class="app-header">
            <h1>ğŸ¨ åŠ¨æ€CSSä¸»é¢˜åˆ‡æ¢å™¨</h1>
            <p>åŸºäº injectCSS å‡½æ•°çš„å®æ—¶æ ·å¼ç¼–è¾‘å™¨</p>
        </header>

        <main class="app-main">
            <div class="control-panel">
                <div class="control-section">
                    <h3>ğŸ¯ é¢„è®¾ä¸»é¢˜</h3>
                    <div class="theme-grid">
                        <button class="theme-btn" data-theme="default">é»˜è®¤ä¸»é¢˜</button>
                        <button class="theme-btn" data-theme="dark">æš—é»‘ä¸»é¢˜</button>
                        <button class="theme-btn" data-theme="sunset">æ—¥è½ä¸»é¢˜</button>
                        <button class="theme-btn" data-theme="ocean">æµ·æ´‹ä¸»é¢˜</button>
                        <button class="theme-btn" data-theme="forest">æ£®æ—ä¸»é¢˜</button>
                        <button class="theme-btn" data-theme="neon">éœ“è™¹ä¸»é¢˜</button>
                    </div>
                </div>

                <div class="control-section">
                    <h3>âš™ï¸ è‡ªå®šä¹‰å‚æ•°</h3>
                    <div class="param-controls">
                        <div class="param-group">
                            <label>ä¸»è‰²è°ƒ:</label>
                            <div id="primary-color"></div>
                        </div>
                        <div class="param-group">
                            <label>æ¬¡è‰²è°ƒ:</label>
                            <div id="secondary-color"></div>
                        </div>
                        <div class="param-group">
                            <label>èƒŒæ™¯æ¸å˜:</label>
                            <div id="gradient-select"></div>
                        </div>
                        <div class="param-group">
                            <label>åœ†è§’å¤§å°:</label>
                            <div id="border-radius"></div>
                        </div>
                        <div class="param-group">
                            <label>é˜´å½±å¼ºåº¦:</label>
                            <div id="shadow-intensity"></div>
                        </div>
                    </div>
                </div>

                <div class="control-section">
                    <h3>ğŸ”§ é«˜çº§åŠŸèƒ½</h3>
                    <div class="advanced-controls">
                        <div id="animation-toggle"></div>
                        <div id="glass-effect-toggle"></div>
                        <div id="particle-effect-toggle"></div>
                    </div>
                </div>
            </div>

            <div class="preview-panel">
                <div class="preview-header">
                    <h3>ğŸ‘ï¸ å®æ—¶é¢„è§ˆ</h3>
                    <button id="fullscreen-preview" class="btn btn-primary">å…¨å±é¢„è§ˆ</button>
                </div>
                <div class="preview-container">
                    <div class="demo-card">
                        <div class="card-header">
                            <h4>ç¤ºä¾‹å¡ç‰‡</h4>
                            <span class="card-badge">NEW</span>
                        </div>
                        <div class="card-content">
                            <p>è¿™æ˜¯ä¸€ä¸ªåŠ¨æ€æ ·å¼çš„ç¤ºä¾‹å¡ç‰‡ï¼Œæ‰€æœ‰çš„æ ·å¼éƒ½æ˜¯é€šè¿‡ injectCSS å‡½æ•°å®æ—¶æ³¨å…¥çš„ã€‚</p>
                            <div class="card-actions">
                                <button class="btn btn-primary">ä¸»è¦æŒ‰é’®</button>
                                <button class="btn btn-secondary">æ¬¡è¦æŒ‰é’®</button>
                            </div>
                        </div>
                    </div>

                    <div class="demo-form">
                        <h4>ç¤ºä¾‹è¡¨å•</h4>
                        <div class="form-group">
                            <label>ç”¨æˆ·å:</label>
                            <input type="text" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>é‚®ç®±:</label>
                            <input type="email" placeholder="è¯·è¾“å…¥é‚®ç®±" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>æ¶ˆæ¯:</label>
                            <textarea placeholder="è¯·è¾“å…¥æ¶ˆæ¯" class="form-textarea"></textarea>
                        </div>
                        <button class="btn btn-success">æäº¤</button>
                    </div>

                    <div class="demo-list">
                        <h4>ç¤ºä¾‹åˆ—è¡¨</h4>
                        <ul class="list-items">
                            <li class="list-item">åˆ—è¡¨é¡¹ç›® 1</li>
                            <li class="list-item">åˆ—è¡¨é¡¹ç›® 2</li>
                            <li class="list-item">åˆ—è¡¨é¡¹ç›® 3</li>
                            <li class="list-item">åˆ—è¡¨é¡¹ç›® 4</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="code-panel">
                <div class="code-header">
                    <h3>ğŸ’» ç”Ÿæˆçš„CSSä»£ç </h3>
                    <div class="code-actions">
                        <button id="copy-css" class="btn btn-secondary">å¤åˆ¶ä»£ç </button>
                        <button id="export-css" class="btn btn-success">å¯¼å‡ºCSS</button>
                        <button id="reset-css" class="btn btn-warning">é‡ç½®æ ·å¼</button>
                    </div>
                </div>
                <div class="code-container">
                    <pre id="css-code" class="code-block"></pre>
                </div>
            </div>
        </main>
    </div>

    <!-- å¼•å…¥æ’ä»¶ -->
    <script src="../../demo/plugins/modal/index.js"></script>
    <script src="../../demo/plugins/checkbox/index.js"></script>
    <script src="../../demo/plugins/input-number/index.js"></script>
    <script src="../../demo/plugins/select/index.js"></script>
    <script src="../../demo/plugins/notification/index.js"></script>

    <script>
        // æ ¸å¿ƒå‡½æ•°
        const injectCSS = css => {
            const el = document.createElement('style');
            el.innerText = css;
            el.type = 'text/css';
            el.id = 'dynamic-css';
            
            // ç§»é™¤ä¹‹å‰çš„åŠ¨æ€CSS
            const existingCSS = document.getElementById('dynamic-css');
            if (existingCSS) {
                existingCSS.remove();
            }
            
            document.head.appendChild(el);
            return el;
        };

        // ä¸»é¢˜ç®¡ç†å™¨
        class CSSThemeManager {
            constructor() {
                this.currentTheme = 'default';
                this.customParams = {
                    primaryColor: '#4facfe',
                    secondaryColor: '#00f2fe',
                    gradientType: 'linear',
                    borderRadius: 8,
                    shadowIntensity: 0.2,
                    animations: true,
                    glassEffect: false,
                    particleEffect: false
                };
                
                this.themes = {
                    default: {
                        primaryColor: '#4facfe',
                        secondaryColor: '#00f2fe',
                        gradientType: 'linear',
                        borderRadius: 8,
                        shadowIntensity: 0.2
                    },
                    dark: {
                        primaryColor: '#2c3e50',
                        secondaryColor: '#34495e',
                        gradientType: 'radial',
                        borderRadius: 4,
                        shadowIntensity: 0.4
                    },
                    sunset: {
                        primaryColor: '#ff6b6b',
                        secondaryColor: '#feca57',
                        gradientType: 'linear',
                        borderRadius: 12,
                        shadowIntensity: 0.3
                    },
                    ocean: {
                        primaryColor: '#74b9ff',
                        secondaryColor: '#0984e3',
                        gradientType: 'linear',
                        borderRadius: 6,
                        shadowIntensity: 0.25
                    },
                    forest: {
                        primaryColor: '#00b894',
                        secondaryColor: '#55a3ff',
                        gradientType: 'radial',
                        borderRadius: 10,
                        shadowIntensity: 0.15
                    },
                    neon: {
                        primaryColor: '#fd79a8',
                        secondaryColor: '#fdcb6e',
                        gradientType: 'linear',
                        borderRadius: 16,
                        shadowIntensity: 0.5
                    }
                };

                this.modal = new Modal();
                this.notification = new Notification();
                
                this.init();
            }

            init() {
                this.setupControls();
                this.setupEventListeners();
                this.applyTheme('default');
                
                // æ¿€æ´»é»˜è®¤ä¸»é¢˜æŒ‰é’®
                document.querySelector('.theme-btn[data-theme="default"]').classList.add('active');
            }

            setupControls() {
                // ä¸»è‰²è°ƒé€‰æ‹©å™¨ - ä½¿ç”¨é¢œè‰²è¾“å…¥è€Œä¸æ˜¯æ•°å­—è¾“å…¥
                const primaryColorContainer = document.querySelector('#primary-color');
                if (primaryColorContainer) {
                    const primaryInput = document.createElement('input');
                    primaryInput.type = 'color';
                    primaryInput.value = this.customParams.primaryColor;
                    primaryInput.style.width = '100%';
                    primaryInput.style.height = '40px';
                    primaryInput.style.border = 'none';
                    primaryInput.style.borderRadius = '8px';
                    primaryInput.style.cursor = 'pointer';
                    
                    primaryInput.addEventListener('change', (e) => {
                        this.customParams.primaryColor = e.target.value;
                        this.updatePreview();
                    });
                    
                    primaryColorContainer.appendChild(primaryInput);
                }

                // æ¬¡è‰²è°ƒé€‰æ‹©å™¨ - ä½¿ç”¨é¢œè‰²è¾“å…¥è€Œä¸æ˜¯æ•°å­—è¾“å…¥
                const secondaryColorContainer = document.querySelector('#secondary-color');
                if (secondaryColorContainer) {
                    const secondaryInput = document.createElement('input');
                    secondaryInput.type = 'color';
                    secondaryInput.value = this.customParams.secondaryColor;
                    secondaryInput.style.width = '100%';
                    secondaryInput.style.height = '40px';
                    secondaryInput.style.border = 'none';
                    secondaryInput.style.borderRadius = '8px';
                    secondaryInput.style.cursor = 'pointer';
                    
                    secondaryInput.addEventListener('change', (e) => {
                        this.customParams.secondaryColor = e.target.value;
                        this.updatePreview();
                    });
                    
                    secondaryColorContainer.appendChild(secondaryInput);
                }

                // æ¸å˜ç±»å‹é€‰æ‹©
                this.gradientSelect = new Select({
                    container: '#gradient-select',
                    options: [
                        { value: 'linear', label: 'çº¿æ€§æ¸å˜' },
                        { value: 'radial', label: 'å¾„å‘æ¸å˜' },
                        { value: 'conic', label: 'é”¥å½¢æ¸å˜' }
                    ],
                    onChange: (value) => {
                        this.customParams.gradientType = value;
                        this.updatePreview();
                    }
                });

                // åœ†è§’å¤§å°
                this.borderRadiusInput = new InputNumber({
                    container: '#border-radius',
                    min: 0,
                    max: 50,
                    value: this.customParams.borderRadius,
                    onChange: (value) => {
                        this.customParams.borderRadius = value;
                        this.updatePreview();
                    }
                });

                // é˜´å½±å¼ºåº¦
                this.shadowIntensityInput = new InputNumber({
                    container: '#shadow-intensity',
                    min: 0,
                    max: 1,
                    step: 0.1,
                    value: this.customParams.shadowIntensity,
                    onChange: (value) => {
                        this.customParams.shadowIntensity = value;
                        this.updatePreview();
                    }
                });

                // é«˜çº§åŠŸèƒ½å¤é€‰æ¡†
                this.animationToggle = Checkbox.createCheckboxGroup({
                    items: [
                        { label: 'å¯ç”¨åŠ¨ç”»', checked: true },
                        { label: 'æ¯›ç»ç’ƒæ•ˆæœ', checked: false },
                        { label: 'ç²’å­æ•ˆæœ', checked: false }
                    ],
                    onChange: (values) => {
                        this.customParams.animations = values[0];
                        this.customParams.glassEffect = values[1];
                        this.customParams.particleEffect = values[2];
                        this.updatePreview();
                    }
                });

                document.querySelector('#animation-toggle').appendChild(this.animationToggle.container);
            }

            setupEventListeners() {
                // ä¸»é¢˜æŒ‰é’®äº‹ä»¶
                document.querySelectorAll('.theme-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const theme = btn.dataset.theme;
                        this.applyTheme(theme);
                        
                        // æ›´æ–°UIçŠ¶æ€
                        document.querySelectorAll('.theme-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                    });
                });

                // å…¨å±é¢„è§ˆ
                document.getElementById('fullscreen-preview').addEventListener('click', () => {
                    this.openFullscreenPreview();
                });

                // ä»£ç æ“ä½œ
                document.getElementById('copy-css').addEventListener('click', () => {
                    this.copyCSSCode();
                });

                document.getElementById('export-css').addEventListener('click', () => {
                    this.exportCSS();
                });

                document.getElementById('reset-css').addEventListener('click', () => {
                    this.resetCSS();
                });
            }

            applyTheme(themeName) {
                this.currentTheme = themeName;
                const theme = this.themes[themeName];
                
                if (theme) {
                    Object.assign(this.customParams, theme);
                    this.updateControlValues();
                    this.updatePreview();
                }
            }

            updateControlValues() {
                // æ›´æ–°æ§ä»¶å€¼
                const primaryInput = document.querySelector('#primary-color input[type="color"]');
                const secondaryInput = document.querySelector('#secondary-color input[type="color"]');
                
                if (primaryInput) primaryInput.value = this.customParams.primaryColor;
                if (secondaryInput) secondaryInput.value = this.customParams.secondaryColor;
                
                this.gradientSelect.setValue(this.customParams.gradientType);
                this.borderRadiusInput.setValue(this.customParams.borderRadius);
                this.shadowIntensityInput.setValue(this.customParams.shadowIntensity);
            }

            updatePreview() {
                const css = this.generateCSS();
                injectCSS(css);
                this.updateCodeDisplay(css);
            }

            generateCSS() {
                const { primaryColor, secondaryColor, gradientType, borderRadius, shadowIntensity, animations, glassEffect, particleEffect } = this.customParams;
                
                let css = `
                    /* åŠ¨æ€ç”Ÿæˆçš„CSSæ ·å¼ */
                    body {
                        background: ${this.generateGradient(gradientType, primaryColor, secondaryColor)};
                        transition: all 0.3s ease;
                    }

                    .app-header {
                        background: ${glassEffect ? 'rgba(255, 255, 255, 0.1)' : 'rgba(255, 255, 255, 0.9)'};
                        backdrop-filter: ${glassEffect ? 'blur(10px)' : 'none'};
                        border-radius: ${borderRadius}px;
                        box-shadow: 0 ${8 * shadowIntensity}px ${16 * shadowIntensity}px rgba(0, 0, 0, ${0.1 * shadowIntensity});
                    }

                    .demo-card, .demo-form, .demo-list {
                        background: ${glassEffect ? 'rgba(255, 255, 255, 0.1)' : 'rgba(255, 255, 255, 0.95)'};
                        backdrop-filter: ${glassEffect ? 'blur(15px)' : 'none'};
                        border-radius: ${borderRadius}px;
                        box-shadow: 0 ${4 * shadowIntensity}px ${8 * shadowIntensity}px rgba(0, 0, 0, ${0.1 * shadowIntensity});
                        border: 1px solid ${glassEffect ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)'};
                    }

                    .btn {
                        background: linear-gradient(135deg, ${primaryColor} 0%, ${secondaryColor} 100%);
                        border-radius: ${borderRadius}px;
                        box-shadow: 0 ${4 * shadowIntensity}px ${8 * shadowIntensity}px rgba(0, 0, 0, ${0.2 * shadowIntensity});
                        transition: all 0.3s ease;
                    }

                    .btn:hover {
                        transform: translateY(-2px);
                        box-shadow: 0 ${6 * shadowIntensity}px ${12 * shadowIntensity}px rgba(0, 0, 0, ${0.3 * shadowIntensity});
                    }

                    .form-input, .form-textarea {
                        border: 2px solid ${primaryColor}20;
                        border-radius: ${borderRadius}px;
                        transition: all 0.3s ease;
                    }

                    .form-input:focus, .form-textarea:focus {
                        border-color: ${primaryColor};
                        box-shadow: 0 0 0 3px ${primaryColor}20;
                    }

                    .list-item {
                        border-radius: ${borderRadius}px;
                        transition: all 0.3s ease;
                    }

                    .list-item:hover {
                        background: ${primaryColor}10;
                        transform: translateX(5px);
                    }
                `;

                if (animations) {
                    css += `
                        .demo-card, .demo-form, .demo-list {
                            animation: slideInUp 0.6s ease-out;
                        }

                        @keyframes slideInUp {
                            from {
                                opacity: 0;
                                transform: translateY(30px);
                            }
                            to {
                                opacity: 1;
                                transform: translateY(0);
                            }
                        }

                        .btn {
                            animation: pulse 2s infinite;
                        }

                        @keyframes pulse {
                            0%, 100% { transform: scale(1); }
                            50% { transform: scale(1.05); }
                        }
                    `;
                }

                if (particleEffect) {
                    css += `
                        body::before {
                            content: '';
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background-image: 
                                radial-gradient(circle at 20% 80%, ${primaryColor}20 1px, transparent 1px),
                                radial-gradient(circle at 80% 20%, ${secondaryColor}20 1px, transparent 1px),
                                radial-gradient(circle at 40% 40%, ${primaryColor}15 1px, transparent 1px);
                            background-size: 50px 50px, 80px 80px, 30px 30px;
                            animation: float 20s infinite linear;
                            pointer-events: none;
                        }

                        @keyframes float {
                            0% { transform: translateY(0px); }
                            100% { transform: translateY(-100px); }
                        }
                    `;
                }

                return css;
            }

            generateGradient(type, color1, color2) {
                switch (type) {
                    case 'linear':
                        return `linear-gradient(135deg, ${color1} 0%, ${color2} 100%)`;
                    case 'radial':
                        return `radial-gradient(circle at center, ${color1} 0%, ${color2} 100%)`;
                    case 'conic':
                        return `conic-gradient(from 0deg, ${color1}, ${color2}, ${color1})`;
                    default:
                        return `linear-gradient(135deg, ${color1} 0%, ${color2} 100%)`;
                }
            }

            updateCodeDisplay(css) {
                const codeBlock = document.getElementById('css-code');
                codeBlock.textContent = css;
            }

            openFullscreenPreview() {
                const previewWindow = window.open('', '_blank', 'width=1200,height=800');
                const previewHTML = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>å…¨å±é¢„è§ˆ</title>
                        <style>${this.generateCSS()}</style>
                    </head>
                    <body>
                        <div style="padding: 40px; font-family: Arial, sans-serif;">
                            <h1>å…¨å±é¢„è§ˆæ¨¡å¼</h1>
                            <p>è¿™æ˜¯å½“å‰æ ·å¼çš„å…¨å±é¢„è§ˆæ•ˆæœã€‚</p>
                            <div class="demo-card" style="padding: 20px; margin: 20px 0;">
                                <h3>ç¤ºä¾‹å¡ç‰‡</h3>
                                <p>æ‰€æœ‰æ ·å¼éƒ½å·²åº”ç”¨</p>
                            </div>
                        </div>
                    </body>
                    </html>
                `;
                previewWindow.document.write(previewHTML);
                previewWindow.document.close();
            }

            copyCSSCode() {
                const css = this.generateCSS();
                navigator.clipboard.writeText(css).then(() => {
                    this.notification.success('CSSä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
                }).catch(() => {
                    this.notification.error('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
                });
            }

            exportCSS() {
                const css = this.generateCSS();
                const blob = new Blob([css], { type: 'text/css' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `theme-${this.currentTheme}-${Date.now()}.css`;
                a.click();
                URL.revokeObjectURL(url);
                this.notification.success('CSSæ–‡ä»¶å¯¼å‡ºæˆåŠŸ');
            }

            resetCSS() {
                this.modal.confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰æ ·å¼å—ï¼Ÿ').then((confirmed) => {
                    if (confirmed) {
                        this.applyTheme('default');
                        document.querySelectorAll('.theme-btn').forEach(b => b.classList.remove('active'));
                        document.querySelector('.theme-btn[data-theme="default"]').classList.add('active');
                        this.notification.success('æ ·å¼å·²é‡ç½®ä¸ºé»˜è®¤ä¸»é¢˜');
                    }
                });
            }
        }

        // åˆå§‹åŒ–åº”ç”¨
        let app;
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                app = new CSSThemeManager();
            });
        } else {
            app = new CSSThemeManager();
        }
    </script>
</body>
</html>